# Protocol 測量結果

**測試日期**: 2026-01-15 09:06:05  
**GameServer**: hero-defense  
**測試時長**: 60 秒  

---

## Opcode + JSON Array 格式

### StateUpdate
- 總流量: 149.24 KB
- 封包數: 599 個
- 平均大小: 255.14 bytes

### Event
- 總流量: 8.33 KB
- 封包數: 88 個
- 平均大小: 97.00 bytes

---

## Opcode + MessagePack Binary 格式

### StateUpdate
- 總流量: 83.23 KB
- 封包數: 599 個
- 平均大小: 142.30 bytes

### Event
- 總流量: 4.14 KB
- 封包數: 87 個
- 平均大小: 48.74 bytes

### Transport Messages
- 總流量: .08 KB
- 封包數: 1 個
- 平均大小: 90.00 bytes

---

## JSON Object 格式

### StateUpdate
- 總流量: 312.65 KB
- 封包數: 600 個
- 平均大小: 533.60 bytes

### Event
- 總流量: 15.17 KB
- 封包數: 84 個
- 平均大小: 185.00 bytes

---

## 對比分析

| 訊息類型 | JSON Format | Opcode Format | MessagePack Format | Opcode 節省比例 | MessagePack 節省比例 |
|---------|--------------|--------------|-------------------|----------------|----------------------|
| StateUpdate (總流量) | 312.65 KB | 149.24 KB | 83.23 KB | 52.00% | 73.00% |
| StateUpdate (平均) | 533.60 bytes | 255.14 bytes | 142.30 bytes | 52.00% | 73.00% |
| Event (總流量) | 15.17 KB | 8.33 KB | 4.14 KB | 45.00% | 72.00% |
| Event (平均) | 185.00 bytes | 97.00 bytes | 48.74 bytes | 47.00% | 73.00% |
| Transport (總流量) | .30 KB | .10 KB | .08 KB | 64.00% | 71.00% |
| Transport (平均) | 312.00 bytes | 110.00 bytes | 90.00 bytes | 64.00% | 71.00% |
