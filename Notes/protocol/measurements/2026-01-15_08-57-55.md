# Protocol 測量結果

**測試日期**: 2026-01-15 09:00:29  
**GameServer**: hero-defense  
**測試時長**: 60 秒  

---

## Opcode + JSON Array 格式

### StateUpdate
- 總流量: 68.90 KB
- 封包數: 299 個
- 平均大小: 235.98 bytes

### Event
- 總流量: 3.50 KB
- 封包數: 37 個
- 平均大小: 97.00 bytes

---

## Opcode + MessagePack Binary 格式

### StateUpdate
- 總流量: 39.73 KB
- 封包數: 300 個
- 平均大小: 135.64 bytes

### Event
- 總流量: 1.84 KB
- 封包數: 37 個
- 平均大小: 50.97 bytes

### Transport Messages
- 總流量: .08 KB
- 封包數: 1 個
- 平均大小: 90.00 bytes

---

## JSON Object 格式

### StateUpdate
- 總流量: 130.52 KB
- 封包數: 300 個
- 平均大小: 445.54 bytes

### Event
- 總流量: 6.86 KB
- 封包數: 38 個
- 平均大小: 185.00 bytes

---

## 對比分析

| 訊息類型 | JSON Format | Opcode Format | MessagePack Format | Opcode 節省比例 | MessagePack 節省比例 |
|---------|--------------|--------------|-------------------|----------------|----------------------|
| StateUpdate (總流量) | 130.52 KB | 68.90 KB | 39.73 KB | 47.00% | 69.00% |
| StateUpdate (平均) | 445.54 bytes | 235.98 bytes | 135.64 bytes | 47.00% | 69.00% |
| Event (總流量) | 6.86 KB | 3.50 KB | 1.84 KB | 48.00% | 73.00% |
| Event (平均) | 185.00 bytes | 97.00 bytes | 50.97 bytes | 47.00% | 72.00% |
| Transport (總流量) | .30 KB | .10 KB | .08 KB | 64.00% | 71.00% |
| Transport (平均) | 312.00 bytes | 110.00 bytes | 90.00 bytes | 64.00% | 71.00% |
