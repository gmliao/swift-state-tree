<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Server Load Test - System Monitoring Report</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
        }
        h2 {
            color: #555;
            margin-top: 30px;
            font-size: 20px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 8px;
        }
        .summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .summary-card {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #4CAF50;
        }
        .summary-card h3 {
            margin: 0 0 10px 0;
            color: #666;
            font-size: 14px;
            text-transform: uppercase;
        }
        .summary-card .value {
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }
        .summary-card .subvalue {
            font-size: 14px;
            color: #777;
            margin-top: 5px;
        }
        .chart-container {
            margin: 30px 0;
            position: relative;
            height: 300px;
        }
        .chart-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        .json-viewer {
            background: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            max-height: 400px;
            overflow-y: auto;
        }
        .json-viewer pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Server Load Test - System Monitoring Report</h1>

        <h2>üñ•Ô∏è System Monitoring</h2>
        <div class="summary">
            <div class="summary-card">
                <h3>VMStat Samples</h3>
                <div class="value">7</div>
            </div>
            <div class="summary-card">
                <h3>Avg CPU User %</h3>
                <div class="value">14.3%</div>
            </div>
            <div class="summary-card">
                <h3>Avg CPU System %</h3>
                <div class="value">11.7%</div>
            </div>
            <div class="summary-card">
                <h3>Avg CPU Idle %</h3>
                <div class="value">73.9%</div>
            </div>

            <div class="summary-card">
                <h3>PidStat Samples</h3>
                <div class="value">7</div>
            </div>
            <div class="summary-card">
                <h3>Avg Process CPU %</h3>
                <div class="value">1.7%</div>
            </div>
            <div class="summary-card">
                <h3>Peak Process CPU %</h3>
                <div class="value">2.0%</div>
            </div>

        </div>

        <div class="chart-container">
            <div class="chart-title">System CPU Usage Over Time</div>
            <canvas id="cpuChart"></canvas>
        </div>
        
        <div class="chart-container">
            <div class="chart-title">Free Memory Over Time (MB)</div>
            <canvas id="memoryChart"></canvas>
        </div>
        
        <script>
            const cpuCtx = document.getElementById('cpuChart').getContext('2d');
            new Chart(cpuCtx, {
                type: 'line',
                data: {
                    labels: [0, 1, 2, 3, 4, 5, 6],
                    datasets: [
                        {
                            label: 'User %',
                            data: [15.0, 16.0, 13.0, 14.0, 12.0, 14.0, 16.0],
                            borderColor: 'rgb(75, 192, 192)',
                            backgroundColor: 'rgba(75, 192, 192, 0.2)',
                            tension: 0.1
                        },
                        {
                            label: 'System %',
                            data: [11.0, 12.0, 10.0, 11.0, 14.0, 10.0, 14.0],
                            borderColor: 'rgb(255, 99, 132)',
                            backgroundColor: 'rgba(255, 99, 132, 0.2)',
                            tension: 0.1
                        },
                        {
                            label: 'Idle %',
                            data: [74.0, 72.0, 76.0, 76.0, 73.0, 76.0, 70.0],
                            borderColor: 'rgb(153, 102, 255)',
                            backgroundColor: 'rgba(153, 102, 255, 0.2)',
                            tension: 0.1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
            
            const memoryCtx = document.getElementById('memoryChart').getContext('2d');
            new Chart(memoryCtx, {
                type: 'line',
                data: {
                    labels: [0, 1, 2, 3, 4, 5, 6],
                    datasets: [{
                        label: 'Free Memory (MB)',
                        data: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],
                        borderColor: 'rgb(54, 162, 235)',
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        </script>

        <div class="chart-container">
            <div class="chart-title">Process CPU Usage Over Time</div>
            <canvas id="pidstatChart"></canvas>
        </div>
        
        <script>
            const pidstatCtx = document.getElementById('pidstatChart').getContext('2d');
            new Chart(pidstatCtx, {
                type: 'line',
                data: {
                    labels: [0, 1, 2, 3, 4, 5, 6],
                    datasets: [{
                        label: 'Process CPU %',
                        data: [0.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0],
                        borderColor: 'rgb(255, 159, 64)',
                        backgroundColor: 'rgba(255, 159, 64, 0.2)',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        </script>

        <h2>üìà Full Monitoring Data (JSON)</h2>
        <div class="json-viewer">
            <pre>{
  "vmstat": [
    {
      "cpu_us_pct": 15.0,
      "cpu_sy_pct": 11.0,
      "cpu_id_pct": 74.0,
      "cpu_wa_pct": 0.0,
      "cpu_st_pct": 0.0,
      "memory_free_kb": 0,
      "memory_swpd_kb": 0,
      "memory_buff_kb": 0,
      "memory_cache_kb": 0
    },
    {
      "cpu_us_pct": 16.0,
      "cpu_sy_pct": 12.0,
      "cpu_id_pct": 72.0,
      "cpu_wa_pct": 0.0,
      "cpu_st_pct": 0.0,
      "memory_free_kb": 0,
      "memory_swpd_kb": 0,
      "memory_buff_kb": 0,
      "memory_cache_kb": 0
    },
    {
      "cpu_us_pct": 13.0,
      "cpu_sy_pct": 10.0,
      "cpu_id_pct": 76.0,
      "cpu_wa_pct": 0.0,
      "cpu_st_pct": 0.0,
      "memory_free_kb": 0,
      "memory_swpd_kb": 0,
      "memory_buff_kb": 0,
      "memory_cache_kb": 0
    },
    {
      "cpu_us_pct": 14.0,
      "cpu_sy_pct": 11.0,
      "cpu_id_pct": 76.0,
      "cpu_wa_pct": 0.0,
      "cpu_st_pct": 0.0,
      "memory_free_kb": 0,
      "memory_swpd_kb": 0,
      "memory_buff_kb": 0,
      "memory_cache_kb": 0
    },
    {
      "cpu_us_pct": 12.0,
      "cpu_sy_pct": 14.0,
      "cpu_id_pct": 73.0,
      "cpu_wa_pct": 0.0,
      "cpu_st_pct": 0.0,
      "memory_free_kb": 0,
      "memory_swpd_kb": 0,
      "memory_buff_kb": 0,
      "memory_cache_kb": 0
    },
    {
      "cpu_us_pct": 14.0,
      "cpu_sy_pct": 10.0,
      "cpu_id_pct": 76.0,
      "cpu_wa_pct": 0.0,
      "cpu_st_pct": 0.0,
      "memory_free_kb": 0,
      "memory_swpd_kb": 0,
      "memory_buff_kb": 0,
      "memory_cache_kb": 0
    },
    {
      "cpu_us_pct": 16.0,
      "cpu_sy_pct": 14.0,
      "cpu_id_pct": 70.0,
      "cpu_wa_pct": 0.0,
      "cpu_st_pct": 0.0,
      "memory_free_kb": 0,
      "memory_swpd_kb": 0,
      "memory_buff_kb": 0,
      "memory_cache_kb": 0
    }
  ],
  "pidstat": [
    {
      "pid": 0,
      "cpu_usr_pct": 0.0,
      "cpu_system_pct": 0.0,
      "cpu_guest_pct": 0.0,
      "cpu_total_pct": 0.0
    },
    {
      "pid": 0,
      "cpu_usr_pct": 0.1,
      "cpu_system_pct": 0.0,
      "cpu_guest_pct": 0.0,
      "cpu_total_pct": 2.0
    },
    {
      "pid": 0,
      "cpu_usr_pct": 0.1,
      "cpu_system_pct": 0.0,
      "cpu_guest_pct": 0.0,
      "cpu_total_pct": 2.0
    },
    {
      "pid": 0,
      "cpu_usr_pct": 0.1,
      "cpu_system_pct": 0.0,
      "cpu_guest_pct": 0.0,
      "cpu_total_pct": 2.0
    },
    {
      "pid": 0,
      "cpu_usr_pct": 0.1,
      "cpu_system_pct": 0.0,
      "cpu_guest_pct": 0.0,
      "cpu_total_pct": 2.0
    },
    {
      "pid": 0,
      "cpu_usr_pct": 0.1,
      "cpu_system_pct": 0.0,
      "cpu_guest_pct": 0.0,
      "cpu_total_pct": 2.0
    },
    {
      "pid": 0,
      "cpu_usr_pct": 0.1,
      "cpu_system_pct": 0.0,
      "cpu_guest_pct": 0.0,
      "cpu_total_pct": 2.0
    }
  ],
  "vmstat_summary": {
    "sample_count": 7,
    "avg_cpu_us_pct": 14.285714285714286,
    "avg_cpu_sy_pct": 11.714285714285714,
    "avg_cpu_id_pct": 73.85714285714286,
    "peak_memory_free_kb": 0
  },
  "pidstat_summary": {
    "sample_count": 7,
    "avg_cpu_total_pct": 1.7142857142857142,
    "peak_cpu_total_pct": 2.0
  }
}</pre>
        </div>

    </div>
</body>
</html>
